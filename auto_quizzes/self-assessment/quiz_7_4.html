<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MMiDS 7.4: Self-Assessment Quiz</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&family=Open+Sans&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            color: #333;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        #quiz-container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            margin: 20px;
        }

        h1 {
            font-family: 'Montserrat', sans-serif;
            color: #673ab7;
            text-align: center;
            margin-bottom: 30px;
        }

        .question {
            background-color: #f5f0ff;
            border: 1px solid #d1c4e9;
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .question p {
            margin: 0 0 15px;
            font-weight: bold;
        }

        .options {
            list-style-type: none;
            padding: 0;
        }

        .options li {
            margin-bottom: 0px;
        }

        .options li label {
            display: block;
            padding: 12px;
            background-color: #f5f0ff;
            color: #333;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .options li label:hover {
            background-color: #e0d6ff;
        }

        .options li input[type="radio"] {
            accent-color: #673ab7;
        }

        .feedback {
            margin-top: 15px;
            display: none;
            padding: 12px;
            border-radius: 5px;
        }

        .feedback.correct {
            background-color: #e0f0e5;
            color: #155724;
            display: block;
        }

        .feedback.incorrect {
            background-color: #f8e1e3;
            color: #721c24;
            display: block;
        }

        img.graph-image {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 50%;
            margin-bottom: 20px;
            margin-top: 20px;
        }

        @media (max-width: 600px) {
            #quiz-container {
                padding: 20px;
                margin: 20px 10px;
            }

            h1 {
                font-size: 24px;
                margin-bottom: 20px;
            }

            .question {
                padding: 15px;
                margin-bottom: 20px;
            }

            img.graph-image {
                width: 70%;
                margin-bottom: 15px;
                margin-top: 15px;
            }
        }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
    <div id="quiz-container">
        <h1>MMiDS 7.4: Self-Assessment Quiz</h1>

        <div class="question">
            <p>Which of the following is a sufficient condition for a Markov chain to be aperiodic?</p>
            <ul class="options">
                <li><label><input type="radio" name="q0" value="0"> a) The chain is irreducible.</label></li>
                <li><label><input type="radio" name="q0" value="1"> b) The chain has a unique stationary distribution.</label></li>
                <li><label><input type="radio" name="q0" value="2"> c) The chain is lazy.</label></li>
                <li><label><input type="radio" name="q0" value="3"> d) The chain has a finite state space.</label></li>
            </ul>
            <div class="feedback" id="feedback0"></div>
        </div>

        <div class="question">
            <p>In a Markov chain with state space \( S \) and transition matrix \( P \), what does it mean if the chain is lazy?</p>
            <ul class="options">
                <li><label><input type="radio" name="q1" value="0"> a) \( \mathbb{E}[X_t] = 0 \) for all \( t \).</label></li>
                <li><label><input type="radio" name="q1" value="1"> b) \( P_{ii} > 0 \) for all \( i \in S \).</label></li>
                <li><label><input type="radio" name="q1" value="2"> c) \( P_{ij} = 0 \) for all \( i \ne j \).</label></li>
                <li><label><input type="radio" name="q1" value="3"> d) \( \mathrm{Var}(X_t) = 1 \) for all \( t \).</label></li>
            </ul>
            <div class="feedback" id="feedback1"></div>
        </div>

        <div class="question">
            <p>The Convergence to Equilibrium Theorem applies to which type of Markov chains?</p>
            <ul class="options">
                <li><label><input type="radio" name="q2" value="0"> a) Irreducible and aperiodic chains</label></li>
                <li><label><input type="radio" name="q2" value="1"> b) Irreducible and periodic chains</label></li>
                <li><label><input type="radio" name="q2" value="2"> c) Reducible and aperiodic chains</label></li>
                <li><label><input type="radio" name="q2" value="3"> d) Reducible and periodic chains</label></li>
            </ul>
            <div class="feedback" id="feedback2"></div>
        </div>

        <div class="question">
            <p>The Ergodic Theorem applies to which type of Markov chains?</p>
            <ul class="options">
                <li><label><input type="radio" name="q3" value="0"> a) Irreducible chains</label></li>
                <li><label><input type="radio" name="q3" value="1"> b) Aperiodic chains</label></li>
                <li><label><input type="radio" name="q3" value="2"> c) Reducible chains</label></li>
                <li><label><input type="radio" name="q3" value="3"> d) Periodic chains</label></li>
            </ul>
            <div class="feedback" id="feedback3"></div>
        </div>

        <div class="question">
            <p>Which of the following describes a key difference between the Convergence to Equilibrium Theorem and the Ergodic Theorem?</p>
            <ul class="options">
                <li><label><input type="radio" name="q4" value="0"> a) The Convergence to Equilibrium Theorem applies to periodic chains, while the Ergodic Theorem applies to aperiodic chains.</label></li>
                <li><label><input type="radio" name="q4" value="1"> b) The Convergence to Equilibrium Theorem concerns the state distribution, while the Ergodic Theorem concerns the frequency of state visits.</label></li>
                <li><label><input type="radio" name="q4" value="2"> c) The Convergence to Equilibrium Theorem requires a diagonal transition matrix, while the Ergodic Theorem does not.</label></li>
                <li><label><input type="radio" name="q4" value="3"> d) The Convergence to Equilibrium Theorem is applicable only to finite Markov chains, while the Ergodic Theorem is not.</label></li>
            </ul>
            <div class="feedback" id="feedback4"></div>
        </div>

        <div class="question">
            <p>In the context of the proof of the Convergence to Equilibrium Theorem, what is the coupling time \( T \)?</p>
            <ul class="options">
                <li><label><input type="radio" name="q5" value="0"> a) The time at which the joint process \( ( (X_t, Y_t) )_{t \geq 0} \) becomes a Markov chain</label></li>
                <li><label><input type="radio" name="q5" value="1"> b) The first time that \( X_T = Y_T \)</label></li>
                <li><label><input type="radio" name="q5" value="2"> c) The time at which the distributions of \( X_t \) and \( Y_t \) converge to the stationary distribution</label></li>
                <li><label><input type="radio" name="q5" value="3"> d) The time at which the marginal processes \( X_t \) and \( Y_t \) become independent</label></li>
            </ul>
            <div class="feedback" id="feedback5"></div>
        </div>

    </div>

    <script>
        document.querySelectorAll('.options').forEach((optionsList, index) => {
            const correctOptions = [2, 1, 0, 0, 1, 1];

            optionsList.addEventListener('change', (event) => {
                const selectedOption = parseInt(event.target.value);
                const feedbackDiv = document.getElementById('feedback' + index);
                let feedbackText = '';

                if (selectedOption === correctOptions[index]) {
                    feedbackText = "Excellent! " + getCorrectFeedback(index);
                    feedbackDiv.classList.add('correct');
                    feedbackDiv.classList.remove('incorrect');
                } else {
                    feedbackText = "Try again.";
                    feedbackDiv.classList.add('incorrect');
                    feedbackDiv.classList.remove('correct');
                }

                feedbackDiv.innerHTML = feedbackText;

                MathJax.typesetPromise([feedbackDiv]);
            });
        });

        function getCorrectFeedback(index) {
            switch (index) {
                case 0:
                    return "The text states, 'We check that a lazy chain is necessarily aperiodic.'";
                case 1:
                    return "A weakly lazy Markov chain is defined as having all diagonal entries of the transition matrix strictly positive, i.e., \\( P_{ii} > 0 \\) for all \\( i \\in S \\).";
                case 2:
                    return "The text states, 'First, the Convergence to Equilibrium Theorem applies to irreducible and aperiodic chains.'";
                case 3:
                    return "The text states, 'Second, the Ergodic Theorem applies to irreducible (but not necessarily aperiodic) chains.'";
                case 4:
                    return "The Convergence to Equilibrium Theorem addresses the convergence of the state distribution to the stationary distribution, while the Ergodic Theorem focuses on the frequency of visits to any state converging to the stationary distribution.";
                case 5:
                    return "The text states, 'The idea of the coupling argument is to consider the first time \\( T \\) that \\( X_T = Y_T \\).'";
                default:
                    return "";
            }
        }
    </script>

</body>

</html>
