<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MMiDS 8.5: Self-Assessment Quiz</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&family=Open+Sans&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            color: #333;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        #quiz-container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            margin: 20px;
        }

        h1 {
            font-family: 'Montserrat', sans-serif;
            color: #673ab7;
            text-align: center;
            margin-bottom: 30px;
        }

        .question {
            background-color: #f5f0ff;
            border: 1px solid #d1c4e9;
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .question p {
            margin: 0 0 15px;
            font-weight: bold;
        }

        .options {
            list-style-type: none;
            padding: 0;
        }

        .options li {
            margin-bottom: 0px;
        }

        .options li label {
            display: block;
            padding: 12px;
            background-color: #f5f0ff;
            color: #333;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .options li label:hover {
            background-color: #e0d6ff;
        }

        .options li input[type="radio"] {
            accent-color: #673ab7;
        }

        .feedback {
            margin-top: 15px;
            display: none;
            padding: 12px;
            border-radius: 5px;
        }

        .feedback.correct {
            background-color: #e0f0e5;
            color: #155724;
            display: block;
        }

        .feedback.incorrect {
            background-color: #f8e1e3;
            color: #721c24;
            display: block;
        }

        img.graph-image {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 50%;
            margin-bottom: 20px;
            margin-top: 20px;
        }

        @media (max-width: 600px) {
            #quiz-container {
                padding: 20px;
                margin: 20px 10px;
            }

            h1 {
                font-size: 24px;
                margin-bottom: 20px;
            }

            .question {
                padding: 15px;
                margin-bottom: 20px;
            }

            img.graph-image {
                width: 70%;
                margin-bottom: 15px;
                margin-top: 15px;
            }
        }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
    <div id="quiz-container">
        <h1>MMiDS 8.5: Self-Assessment Quiz</h1>

        <div class="question">
            <p>What is the role of the sigmoid function in a multilayer perceptron (MLP)?</p>
            <ul class="options">
                <li><label><input type="radio" name="q0" value="0"> a) It is used as the loss function for training the MLP.</label></li>
                <li><label><input type="radio" name="q0" value="1"> b) It is used as the nonlinear activation function in each layer of the MLP.</label></li>
                <li><label><input type="radio" name="q0" value="2"> c) It is used to compute the gradient of the loss function with respect to the weights.</label></li>
                <li><label><input type="radio" name="q0" value="3"> d) It is used to initialize the weights of the MLP.</label></li>
            </ul>
            <div class="feedback" id="feedback0"></div>
        </div>

        <div class="question">
            <p>In an MLP, what is the purpose of the softmax function in the output layer?</p>
            <ul class="options">
                <li><label><input type="radio" name="q1" value="0"> a) To introduce nonlinearity into the model.</label></li>
                <li><label><input type="radio" name="q1" value="1"> b) To normalize the outputs into a probability distribution.</label></li>
                <li><label><input type="radio" name="q1" value="2"> c) To compute the gradient of the loss function.</label></li>
                <li><label><input type="radio" name="q1" value="3"> d) To reduce the dimensionality of the output.</label></li>
            </ul>
            <div class="feedback" id="feedback1"></div>
        </div>

        <div class="question">
            <p>What is the derivative of the sigmoid function \( \sigma(t) = \frac{1}{1 + e^{-t}} \)?</p>
            <ul class="options">
                <li><label><input type="radio" name="q2" value="0"> a) \( \sigma'(t) = \sigma(t)(1 - \sigma(t)) \)</label></li>
                <li><label><input type="radio" name="q2" value="1"> b) \( \sigma'(t) = e^{-t} \)</label></li>
                <li><label><input type="radio" name="q2" value="2"> c) \( \sigma'(t) = -\sigma(t)^2 \)</label></li>
                <li><label><input type="radio" name="q2" value="3"> d) \( \sigma'(t) = \frac{1}{1 + e^{-t}} \)</label></li>
            </ul>
            <div class="feedback" id="feedback2"></div>
        </div>

        <div class="question">
            <p>What is the Jacobian matrix of the elementwise sigmoid function \( \sigma(t) = (\sigma(t_1), \dots, \sigma(t_n)) \)?</p>
            <ul class="options">
                <li><label><input type="radio" name="q3" value="0"> a) \( J_\sigma(t) = \mathrm{diag}(\sigma(t)) \)</label></li>
                <li><label><input type="radio" name="q3" value="1"> b) \( J_\sigma(t) = \sigma(t) \odot (1-\sigma(t)) \)</label></li>
                <li><label><input type="radio" name="q3" value="2"> c) \( J_\sigma(t) = \mathrm{diag}(\sigma(t) \odot (1 - \sigma(t))) \)</label></li>
                <li><label><input type="radio" name="q3" value="3"> d) \( J_\sigma(t) = \sigma(t)(1 - \sigma(t))^T \)</label></li>
            </ul>
            <div class="feedback" id="feedback3"></div>
        </div>

        <div class="question">
            <p>In the forward phase of computing the gradient of the loss function in an MLP, what is the output of the \( i \)-th hidden layer?</p>
            <ul class="options">
                <li><label><input type="radio" name="q4" value="0"> a) \( z_{i+1} := g_i(z_i, w_i) = \sigma(W_i z_i) \)</label></li>
                <li><label><input type="radio" name="q4" value="1"> b) \( z_{i+1} := g_i(z_i, w_i) = W_i z_i \)</label></li>
                <li><label><input type="radio" name="q4" value="2"> c) \( z_{i+1} := g_i(z_i, w_i) = \gamma(W_i z_i) \)</label></li>
                <li><label><input type="radio" name="q4" value="3"> d) \( z_{i+1} := g_i(z_i, w_i) = W_i \sigma(z_i) \)</label></li>
            </ul>
            <div class="feedback" id="feedback4"></div>
        </div>

        <div class="question">
            <p>What is the output of the backward loop in computing the gradient of the loss function in an MLP?</p>
            <ul class="options">
                <li><label><input type="radio" name="q5" value="0"> a) The gradient of the loss function with respect to the activations of each layer.</label></li>
                <li><label><input type="radio" name="q5" value="1"> b) The gradient of the loss function with respect to the weights of each layer.</label></li>
                <li><label><input type="radio" name="q5" value="2"> c) The updated weights of the MLP.</label></li>
                <li><label><input type="radio" name="q5" value="3"> d) The loss function value.</label></li>
            </ul>
            <div class="feedback" id="feedback5"></div>
        </div>

        <div class="question">
            <p>What is the purpose of the convolutional layers in a CNN?</p>
            <ul class="options">
                <li><label><input type="radio" name="q6" value="0"> a) To fully connect each neuron in the current layer to all neurons in the previous layer.</label></li>
                <li><label><input type="radio" name="q6" value="1"> b) To apply a nonlinear activation function to the input tensor.</label></li>
                <li><label><input type="radio" name="q6" value="2"> c) To reduce the spatial dimensions of the input tensor.</label></li>
                <li><label><input type="radio" name="q6" value="3"> d) To learn local patterns and features from the input tensor.</label></li>
            </ul>
            <div class="feedback" id="feedback6"></div>
        </div>

    </div>

    <script>
        document.querySelectorAll('.options').forEach((optionsList, index) => {
            const correctOptions = [1, 1, 0, 2, 0, 1, 3];

            optionsList.addEventListener('change', (event) => {
                const selectedOption = parseInt(event.target.value);
                const feedbackDiv = document.getElementById('feedback' + index);
                let feedbackText = '';

                if (selectedOption === correctOptions[index]) {
                    feedbackText = "Excellent! " + getCorrectFeedback(index);
                    feedbackDiv.classList.add('correct');
                    feedbackDiv.classList.remove('incorrect');
                } else {
                    feedbackText = "Try again.";
                    feedbackDiv.classList.add('incorrect');
                    feedbackDiv.classList.remove('correct');
                }

                feedbackDiv.innerHTML = feedbackText;

                MathJax.typesetPromise([feedbackDiv]);
            });
        });

        function getCorrectFeedback(index) {
            switch (index) {
                case 0:
                    return "The text states that 'Each of the main layers of a feedforward neural network has two components, an affine map and a nonlinear activation function. For the latter, we restrict ourselves here to the sigmoid function.'";
                case 1:
                    return "The text states that the softmax function is used in the output layer to produce a probability distribution over the possible classes.";
                case 2:
                    return "The text derives the derivative of the sigmoid function as: \\( \\sigma'(t) = \\frac{e^{-t}}{(1 + e^{-t})^2} = \\frac{1}{1 + e^{-t}}(1 - \\frac{1}{1 + e^{-t}}) = \\sigma(t)(1 - \\sigma(t)) \\)";
                case 3:
                    return "The text states that the Jacobian of the elementwise sigmoid function is: \\( J_\\sigma(t) = \\mathrm{diag}(\\sigma'(t)) = \\mathrm{diag}(\\sigma(t) \\odot (1 - \\sigma(t))) \\) where \\(\\odot\\) denotes the Hadamard (elementwise) product.";
                case 4:
                    return "The text defines the output of the \\(i\\)-th hidden layer as: \\( z_{i+1} := g_i(z_i, w_i) = \\sigma(W_i z_i) \\) where \\(\\sigma\\) is the sigmoid activation function and \\(W_i\\) is the weight matrix for the \\(i\\)-th layer.";
                case 5:
                    return "The text states that the output of the backward loop is the gradient of the loss function with respect to the weights of each layer: \\( \\nabla f(w) = (q_0, q_1, \\ldots, q_L) \\) where \\(q_i := B_i^T p_{i+1} = \\tilde{B}_{n_{i+1}}[z_i, w_i]^T p_{i+1}\\) is the gradient with respect to the weights of the \\(i\\)-th layer.";
                case 6:
                    return "The text mentions that CNNs are 'most commonly applied to analyzing visual imagery' and that they are 'also known as shift invariant or space invariant artificial neural networks (SIANN), based on their shared-weights architecture and translation invariance characteristics.' This suggests that convolutional layers are designed to learn local patterns and features that are invariant to spatial translations in the input image.";
                default:
                    return "";
            }
        }
    </script>

</body>

</html>
