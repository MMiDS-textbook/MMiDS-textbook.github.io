<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MMiDS 5.6: Self-Assessment Quiz</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&family=Open+Sans&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            color: #333;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        #quiz-container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            margin: 20px;
        }

        h1 {
            font-family: 'Montserrat', sans-serif;
            color: #673ab7;
            text-align: center;
            margin-bottom: 30px;
        }

        .question {
            background-color: #f5f0ff;
            border: 1px solid #d1c4e9;
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .question p {
            margin: 0 0 15px;
            font-weight: bold;
        }

        .options {
            list-style-type: none;
            padding: 0;
        }

        .options li {
            margin-bottom: 0px;
        }

        .options li label {
            display: block;
            padding: 12px;
            background-color: #f5f0ff;
            color: #333;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .options li label:hover {
            background-color: #e0d6ff;
        }

        .options li input[type="radio"] {
            accent-color: #673ab7;
        }

        .feedback {
            margin-top: 15px;
            display: none;
            padding: 12px;
            border-radius: 5px;
        }

        .feedback.correct {
            background-color: #e0f0e5;
            color: #155724;
            display: block;
        }

        .feedback.incorrect {
            background-color: #f8e1e3;
            color: #721c24;
            display: block;
        }

        img.graph-image {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 50%;
            margin-bottom: 20px;
            margin-top: 20px;
        }

        @media (max-width: 600px) {
            #quiz-container {
                padding: 20px;
                margin: 20px 10px;
            }

            h1 {
                font-size: 24px;
                margin-bottom: 20px;
            }

            .question {
                padding: 15px;
                margin-bottom: 20px;
            }

            img.graph-image {
                width: 70%;
                margin-bottom: 15px;
                margin-top: 15px;
            }
        }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
    <div id="quiz-container">
        <h1>MMiDS 5.6: Self-Assessment Quiz</h1>

        <div class="question">
            <p>In a stochastic blockmodel (SBM), what does \( b_{i,j} \) represent?</p>
            <ul class="options">
                <li><label><input type="radio" name="q0" value="0"> a) The probability that vertex \( i \) is assigned
                        to block \( j \).</label></li>
                <li><label><input type="radio" name="q0" value="1"> b) The probability that there is an edge between any
                        two vertices.</label></li>
                <li><label><input type="radio" name="q0" value="2"> c) The probability that there is an edge between a
                        vertex in block \( C_i \) and a vertex in block \( C_j \).</label></li>
                <li><label><input type="radio" name="q0" value="3"> d) The weight of the edge between vertex \( i \) and
                        vertex \( j \).</label></li>
            </ul>
            <div class="feedback" id="feedback0"></div>
        </div>

        <div class="question">
            <p>In the symmetric stochastic blockmodel (SSBM), the second eigenvector of the expected Laplacian matrix \(
                L := \mathbb{E}[L] \) is given by:</p>
            <ul class="options">
                <li><label><input type="radio" name="q1" value="0"> a) \( q_1 = \frac{1}{\sqrt{n}} \mathbf{1}_n
                        \)</label></li>
                <li><label><input type="radio" name="q1" value="1"> b) \( q_2 = \frac{1}{\sqrt{n}} \begin{pmatrix}
                        \mathbf{1}_{n/2} \\ -\mathbf{1}_{n/2} \end{pmatrix} \)</label></li>
                <li><label><input type="radio" name="q1" value="2"> c) \( q_3, \ldots, q_n \), which form an orthonormal
                        basis of \( (\mathrm{span}\{q_1, q_2\})^\perp \)</label></li>
                <li><label><input type="radio" name="q1" value="3"> d) None of the above.</label></li>
            </ul>
            <div class="feedback" id="feedback1"></div>
        </div>

        <div class="question">
            <p>Which of the following matrices encodes the block assignments in a stochastic blockmodel?</p>
            <ul class="options">
                <li><label><input type="radio" name="q2" value="0"> a) \( M \)</label></li>
                <li><label><input type="radio" name="q2" value="1"> b) \( B \)</label></li>
                <li><label><input type="radio" name="q2" value="2"> c) \( Z \)</label></li>
                <li><label><input type="radio" name="q2" value="3"> d) \( A \)</label></li>
            </ul>
            <div class="feedback" id="feedback2"></div>
        </div>

        <div class="question">
            <p>Which of the following statements about the eigenvalues of the expected Laplacian matrix \( L :=
                \mathbb{E}[L] \) in the symmetric stochastic blockmodel (SSBM) is true?</p>
            <ul class="options">
                <li><label><input type="radio" name="q3" value="0"> a) \( \lambda_1 = 0 \) and \( \lambda_2 = qn \),
                        where \( q \) is the inter-block connection probability.</label></li>
                <li><label><input type="radio" name="q3" value="1"> b) \( \lambda_1 = pn \) and \( \lambda_2 = 0 \),
                        where \( p \) is the intra-block connection probability.</label></li>
                <li><label><input type="radio" name="q3" value="2"> c) \( \lambda_1 = \frac{p+q}{2}n \) and \( \lambda_2
                        = \frac{p-q}{2}n \).</label></li>
                <li><label><input type="radio" name="q3" value="3"> d) \( \lambda_1 = \frac{p-q}{2}n \) and \( \lambda_2
                        = \frac{p+q}{2}n \).</label></li>
            </ul>
            <div class="feedback" id="feedback3"></div>
        </div>

        <div class="question">
            <p>Consider an Erdős-Rényi (ER) random graph with \( n \) vertices and edge probability \( p \). The
                expected number of edges in the graph is:</p>
            <ul class="options">
                <li><label><input type="radio" name="q4" value="0"> a) \( n^2p \)</label></li>
                <li><label><input type="radio" name="q4" value="1"> b) \( \binom{n}{2}p \)</label></li>
                <li><label><input type="radio" name="q4" value="2"> c) \( np \)</label></li>
                <li><label><input type="radio" name="q4" value="3"> d) \( n(n-1)p \)</label></li>
            </ul>
            <div class="feedback" id="feedback4"></div>
        </div>

        <div class="question">
            <p>What is the expected number of triangles in an Erdős-Rényi random graph \( G(n, p) \)?</p>
            <ul class="options">
                <li><label><input type="radio" name="q5" value="0"> a) \( \binom{n}{3} p^2 \)</label></li>
                <li><label><input type="radio" name="q5" value="1"> b) \( \binom{n}{2} p^3 \)</label></li>
                <li><label><input type="radio" name="q5" value="2"> c) \( \binom{n}{3} p^3 \)</label></li>
                <li><label><input type="radio" name="q5" value="3"> d) \( \binom{n}{2} p^2 \)</label></li>
            </ul>
            <div class="feedback" id="feedback5"></div>
        </div>

        <div class="question">
            <p>Consider the following Python code snippet:</p>
            <pre><code>import networkx as nx
import numpy as np

n = 5
p = 0.4
seed = 123
rng = np.random.default_rng(seed)

G = nx.Graph()
G.add_nodes_from(range(n))
for i in range(n):
    for j in range(i + 1, n):
        if rng.random() < p:
            G.add_edge(i, j)

nx.draw(G, with_labels=True, node_size=500, font_size=12, font_color='white')</code></pre>
            <p>Which of the following best describes the graph generated by this code?</p>
            <ul class="options">
                <li><label><input type="radio" name="q6" value="0"> a) An Erdős-Rényi (ER) random graph with \( n=5 \)
                        vertices and edge probability \( p=0.4 \).</label></li>
                <li><label><input type="radio" name="q6" value="1"> b) A stochastic blockmodel (SBM) with \( n=5 \)
                        vertices and intra-block probability \( p=0.4 \).</label></li>
                <li><label><input type="radio" name="q6" value="2"> c) A symmetric stochastic blockmodel (SSBM) with \(
                        n=5 \) vertices and inter-block probability \( p=0.4 \).</label></li>
                <li><label><input type="radio" name="q6" value="3"> d) An inhomogeneous Erdős-Rényi (ER) random graph
                        with \( n=5 \) vertices and edge probabilities given by a matrix \( M \).</label></li>
            </ul>
            <div class="feedback" id="feedback6"></div>
        </div>

        <div class="question">
            <p>Consider the following graph generated using NetworkX in Python:</p>
            <img src="quiz-5_6-graph1.png" alt="Graph" class="graph-image">
            <p>Which of the following models could have produced this graph?</p>
            <ul class="options">
                <li><label><input type="radio" name="q7" value="0"> a) An Erdős-Rényi (ER) random graph.</label></li>
                <li><label><input type="radio" name="q7" value="1"> b) A stochastic blockmodel (SBM) with two
                        communities.</label></li>
                <li><label><input type="radio" name="q7" value="2"> c) A symmetric stochastic blockmodel (SSBM) with two
                        communities.</label></li>
                <li><label><input type="radio" name="q7" value="3"> d) All of the above.</label></li>
            </ul>
            <div class="feedback" id="feedback7"></div>
        </div>

        <div class="question">
            <p>Which of the following is true for the spectral properties of a symmetric stochastic blockmodel (SSBM)?
            </p>
            <ul class="options">
                <li><label><input type="radio" name="q8" value="0"> a) The matrix has rank 1.</label></li>
                <li><label><input type="radio" name="q8" value="1"> b) The eigenvalues are all equal.</label></li>
                <li><label><input type="radio" name="q8" value="2"> c) The matrix can be decomposed into orthogonal
                        eigenvectors with corresponding eigenvalues.</label></li>
                <li><label><input type="radio" name="q8" value="3"> d) The eigenvalues are purely imaginary.</label>
                </li>
            </ul>
            <div class="feedback" id="feedback8"></div>
        </div>

        <div class="question">
            <p>In the stochastic blockmodel, what happens to the difficulty of recovering the community structure if the
                inter-block connection probability \( b_{1,2} \) is close to the intra-block connection probability \(
                b_{1,1} \)?</p>
            <ul class="options">
                <li><label><input type="radio" name="q9" value="0"> a) It becomes easier.</label></li>
                <li><label><input type="radio" name="q9" value="1"> b) It remains unchanged.</label></li>
                <li><label><input type="radio" name="q9" value="2"> c) It becomes harder.</label></li>
                <li><label><input type="radio" name="q9" value="3"> d) None of the above.</label></li>
            </ul>
            <div class="feedback" id="feedback9"></div>
        </div>

    </div>

    <script>
        document.querySelectorAll('.options').forEach((optionsList, index) => {
            const correctOptions = [2, 1, 2, 0, 1, 2, 0, 3, 2, 2];

            optionsList.addEventListener('change', (event) => {
                const selectedOption = parseInt(event.target.value);
                const feedbackDiv = document.getElementById('feedback' + index);
                let feedbackText = '';

                if (selectedOption === correctOptions[index]) {
                    feedbackText = "Excellent! " + getCorrectFeedback(index);
                    feedbackDiv.classList.add('correct');
                    feedbackDiv.classList.remove('incorrect');
                } else {
                    feedbackText = "Try again.";
                    feedbackDiv.classList.add('incorrect');
                    feedbackDiv.classList.remove('correct');
                }

                feedbackDiv.innerHTML = feedbackText;

                MathJax.typesetPromise([feedbackDiv]);
            });
        });

        function getCorrectFeedback(index) {
            switch (index) {
                case 0:
                    return "The text defines \\( b_{i,j} \\) as 'the probability that a vertex in block \\( C_i \\) and a vertex in block \\( C_j \\) are connected by an edge.'";
                case 1:
                    return "The text states: 'The key observation: The eigenvector corresponding to the second smallest eigenvalue of \\( L \\) perfectly encodes the community structure by assigning \\( 1/\\sqrt{n} \\) to the vertices in block \\( C_1 \\) and \\( -1/\\sqrt{n} \\) to the vertices in block \\( C_2 \\)!'";
                case 2:
                    return "The text introduces \\( Z \\) as the matrix 'where row \\( i \\) is \\( e_j^T \\) if vertex \\( i \\) is assigned to block \\( C_j \\).'";
                case 3:
                    return "The text states: 'When \\( p > q \\), \\( qn \\) is the second smallest eigenvalue of \\( L \\) with corresponding eigenvector \\( q_2 = \\frac{1}{\\sqrt{n}} \\begin{pmatrix} \\mathbf{1}_{n/2} \\\\ -\\mathbf{1}_{n/2} \\end{pmatrix}.'";
                case 4:
                    return "The text states: 'Let's compute the expected number of edges \\( G \\). By summing over all pairs and using linearity of expectation, we have \\( \\mathbb{E}[|E|] = \\mathbb{E} [\\sum_{i<j} \\mathbf{1}_{\\{i,j\\} \\in E}] = \\sum_{i<j} \\mathbb{E} [\\mathbf{1}_{\\{i,j\\} \\in E}] = \\binom{n}{2}p.'";
                case 5:
                    return "The expected number of triangles in an Erdős-Rényi random graph \\( G(n, p) \\) is \\( \\binom{n}{3} p^3 \\).";
                case 6:
                    return "The code generates an ER random graph with \\( n=5 \\) vertices, where each edge is included independently with probability \\( p=0.4 \\). This is evident from the nested loop structure and the condition `if rng.random() < p` for adding edges.";
                case 7:
                    return "The graph consists of two cliques (complete subgraphs) of size 3 each, one with vertices 0, 1, and 2 and another with vertices 3, 4, and 5. There are no edges between the two cliques. It has a positive probability of occurring under any ER, SBM, or SSBM random graph model where all edge probabilities are in \\( (0,1) \\).";
                case 8:
                    return "The text explains that the matrix \\( M \\) in the symmetric stochastic blockmodel (SSBM) is symmetric and hence has a spectral decomposition into orthogonal eigenvectors with corresponding eigenvalues.";
                case 9:
                    return "When the inter-block connection probability \\( b_{1,2} \\) is close to the intra-block connection probability \\( b_{1,1} \\), the community structure becomes harder to recover because the distinction between the blocks is less clear.";
                default:
                    return "";
            }
        }

    </script>

</body>

</html>