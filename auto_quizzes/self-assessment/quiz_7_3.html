<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MMiDS 7.3: Self-Assessment Quiz</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&family=Open+Sans&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            color: #333;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        #quiz-container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 800px;
            width: 100%;
            margin: 20px;
        }

        h1 {
            font-family: 'Montserrat', sans-serif;
            color: #673ab7;
            text-align: center;
            margin-bottom: 30px;
        }

        .question {
            background-color: #f5f0ff;
            border: 1px solid #d1c4e9;
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .question p {
            margin: 0 0 15px;
            font-weight: bold;
        }

        .options {
            list-style-type: none;
            padding: 0;
        }

        .options li {
            margin-bottom: 0px;
        }

        .options li label {
            display: block;
            padding: 12px;
            background-color: #f5f0ff;
            color: #333;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .options li label:hover {
            background-color: #e0d6ff;
        }

        .options li input[type="radio"] {
            accent-color: #673ab7;
        }

        .feedback {
            margin-top: 15px;
            display: none;
            padding: 12px;
            border-radius: 5px;
        }

        .feedback.correct {
            background-color: #e0f0e5;
            color: #155724;
            display: block;
        }

        .feedback.incorrect {
            background-color: #f8e1e3;
            color: #721c24;
            display: block;
        }

        img.graph-image {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 50%;
            margin-bottom: 20px;
            margin-top: 20px;
        }

        @media (max-width: 600px) {
            #quiz-container {
                padding: 20px;
                margin: 20px 10px;
            }

            h1 {
                font-size: 24px;
                margin-bottom: 20px;
            }

            .question {
                padding: 15px;
                margin-bottom: 20px;
            }

            img.graph-image {
                width: 70%;
                margin-bottom: 15px;
                margin-top: 15px;
            }
        }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
    <div id="quiz-container">
        <h1>MMiDS 7.3: Self-Assessment Quiz</h1>

        <div class="question">
            <p>Which of the following is the correct condition for a probability distribution \(\pi = (\pi_i)_{i=1}^n\) to be a stationary distribution of a Markov chain with transition matrix \(P = (p_{i,j})_{i,j=1}^n\)?</p>
            <ul class="options">
                <li><label><input type="radio" name="q0" value="0"> a) \(\sum_{j=1}^n \pi_i p_{i,j} = \pi_j\) for all \(i \in [n]\)</label></li>
                <li><label><input type="radio" name="q0" value="1"> b) \(\sum_{i=1}^n \pi_i p_{i,j} = \pi_j\) for all \(j \in [n]\)</label></li>
                <li><label><input type="radio" name="q0" value="2"> c) \(\sum_{j=1}^n \pi_i p_{i,j} = \pi_i\) for all \(i \in [n]\)</label></li>
                <li><label><input type="radio" name="q0" value="3"> d) \(\sum_{i=1}^n \pi_i p_{i,j} = \pi_i\) for all \(j \in [n]\)</label></li>
            </ul>
            <div class="feedback" id="feedback0"></div>
        </div>

        <div class="question">
            <p>Which of the following is the matrix form of the condition for a probability distribution \(\pi\) to be a stationary distribution of a Markov chain with transition matrix \(P\)?</p>
            <ul class="options">
                <li><label><input type="radio" name="q1" value="0"> a) \(\pi P = \pi\)</label></li>
                <li><label><input type="radio" name="q1" value="1"> b) \(P \pi = \pi\)</label></li>
                <li><label><input type="radio" name="q1" value="2"> c) \(\pi P^T = \pi^T\)</label></li>
                <li><label><input type="radio" name="q1" value="3"> d) \(P^T \pi^T = \pi^T\)</label></li>
            </ul>
            <div class="feedback" id="feedback1"></div>
        </div>

        <div class="question">
            <p>Consider a Markov chain with the following transition matrix:</p>
            <p>\[
P = \begin{pmatrix} 1/2 & 1/2 \\ 1/3 & 2/3 \end{pmatrix}
\]</p>
            <p>Which of the following is a stationary distribution for this Markov chain?</p>
            <ul class="options">
                <li><label><input type="radio" name="q2" value="0"> a) \((1/2, 1/2)\)</label></li>
                <li><label><input type="radio" name="q2" value="1"> b) \((1/3, 2/3)\)</label></li>
                <li><label><input type="radio" name="q2" value="2"> c) \((2/5, 3/5)\)</label></li>
                <li><label><input type="radio" name="q2" value="3"> d) \((1, 0)\)</label></li>
            </ul>
            <div class="feedback" id="feedback2"></div>
        </div>

        <div class="question">
            <p>A Markov chain is irreducible if:</p>
            <ul class="options">
                <li><label><input type="radio" name="q3" value="0"> a) Every state communicates with every other state.</label></li>
                <li><label><input type="radio" name="q3" value="1"> b) There exists a state that communicates with every other state.</label></li>
                <li><label><input type="radio" name="q3" value="2"> c) The transition graph of the chain is strongly connected.</label></li>
                <li><label><input type="radio" name="q3" value="3"> d) Both a and c.</label></li>
            </ul>
            <div class="feedback" id="feedback3"></div>
        </div>

        <div class="question">
            <p>Consider the following transition graph of a Markov chain:</p>
            <pre><code>G = nx.DiGraph()
G.add_edges_from([(0, 1), (1, 2), (2, 0), (1, 1)])
</code></pre>
            <p>Is this Markov chain irreducible?</p>
            <ul class="options">
                <li><label><input type="radio" name="q4" value="0"> a) Yes</label></li>
                <li><label><input type="radio" name="q4" value="1"> b) No</label></li>
                <li><label><input type="radio" name="q4" value="2"> c) Not enough information</label></li>
                <li><label><input type="radio" name="q4" value="3"> d) The concept of irreducibility does not apply to this chain.</label></li>
            </ul>
            <div class="feedback" id="feedback4"></div>
        </div>

        <div class="question">
            <p>Consider the following transition graph of a Markov chain:</p>
            <pre><code>G = nx.DiGraph()
G.add_edges_from([(1, 2), (2, 1), (2, 3), (3, 3)])
</code></pre>
            <p>Is this Markov chain irreducible?</p>
            <ul class="options">
                <li><label><input type="radio" name="q5" value="0"> a) Yes</label></li>
                <li><label><input type="radio" name="q5" value="1"> b) No</label></li>
            </ul>
            <div class="feedback" id="feedback5"></div>
        </div>

        <div class="question">
            <p>According to the Existence of Stationary Distribution Theorem, an irreducible Markov chain on a finite state space:</p>
            <ul class="options">
                <li><label><input type="radio" name="q6" value="0"> a) Has a unique stationary distribution with all entries being strictly positive.</label></li>
                <li><label><input type="radio" name="q6" value="1"> b) May have multiple stationary distributions, but all of them have strictly positive entries.</label></li>
                <li><label><input type="radio" name="q6" value="2"> c) Has a unique stationary distribution, but some entries may be zero.</label></li>
                <li><label><input type="radio" name="q6" value="3"> d) May not have any stationary distribution.</label></li>
            </ul>
            <div class="feedback" id="feedback6"></div>
        </div>

        <div class="question">
            <p>In an irreducible Markov chain, the left and right eigenvectors corresponding to eigenvalue 1 are:</p>
            <ul class="options">
                <li><label><input type="radio" name="q7" value="0"> a) The same up to scaling.</label></li>
                <li><label><input type="radio" name="q7" value="1"> b) Always different.</label></li>
                <li><label><input type="radio" name="q7" value="2"> c) Transposes of each other.</label></li>
                <li><label><input type="radio" name="q7" value="3"> d) Not necessarily related to each other.</label></li>
            </ul>
            <div class="feedback" id="feedback7"></div>
        </div>

        <div class="question">
            <p>For an irreducible Markov chain, which of the following statements is true?</p>
            <ul class="options">
                <li><label><input type="radio" name="q8" value="0"> a) All eigenvalues of the transition matrix have absolute value strictly less than 1.</label></li>
                <li><label><input type="radio" name="q8" value="1"> b) All eigenvalues of the transition matrix have absolute value less than or equal to 1, and eigenvalue 1 has geometric multiplicity 1.</label></li>
                <li><label><input type="radio" name="q8" value="2"> c) All eigenvalues of the transition matrix have absolute value less than or equal to 1, and eigenvalue -1 has geometric multiplicity 1.</label></li>
                <li><label><input type="radio" name="q8" value="3"> d) The transition matrix may have eigenvalues with absolute value greater than 1.</label></li>
            </ul>
            <div class="feedback" id="feedback8"></div>
        </div>

        <div class="question">
            <p>Given the transition matrix \(P\) of a Markov chain, which method can be used to numerically find the stationary distribution?</p>
            <ul class="options">
                <li><label><input type="radio" name="q9" value="0"> a) Solving the linear system \(\pi (P - I) = 0\).</label></li>
                <li><label><input type="radio" name="q9" value="1"> b) Computing the eigenvector corresponding to the eigenvalue 1 of \(P\).</label></li>
                <li><label><input type="radio" name="q9" value="2"> c) Both a and b.</label></li>
                <li><label><input type="radio" name="q9" value="3"> d) None of the above.</label></li>
            </ul>
            <div class="feedback" id="feedback9"></div>
        </div>

    </div>

    <script>
        document.querySelectorAll('.options').forEach((optionsList, index) => {
            const correctOptions = [1, 0, 2, 3, 0, 1, 0, 3, 1, 2];

            optionsList.addEventListener('change', (event) => {
                const selectedOption = parseInt(event.target.value);
                const feedbackDiv = document.getElementById('feedback' + index);
                let feedbackText = '';

                if (selectedOption === correctOptions[index]) {
                    feedbackText = "Excellent! " + getCorrectFeedback(index);
                    feedbackDiv.classList.add('correct');
                    feedbackDiv.classList.remove('incorrect');
                } else {
                    feedbackText = "Try again.";
                    feedbackDiv.classList.add('incorrect');
                    feedbackDiv.classList.remove('correct');
                }

                feedbackDiv.innerHTML = feedbackText;

                MathJax.typesetPromise([feedbackDiv]);
            });
        });

        function getCorrectFeedback(index) {
            switch (index) {
                case 0:
                    return "The text states that a probability distribution \\(\\pi = (\\pi_i)_{i=1}^n\\) over \\([n]\\) is a stationary distribution of a Markov chain with transition matrix \\(P = (p_{i,j})_{i,j=1}^n\\) if \\(\\sum_{i=1}^n \\pi_i p_{i,j} = \\pi_j\\) for all \\(j \\in [n]\\).";
                case 1:
                    return "The text states that the condition for a probability distribution \\(\\pi\\) to be a stationary distribution of a Markov chain with transition matrix \\(P\\) can be written in matrix form as \\(\\pi P = \\pi\\), where \\(\\pi\\) is thought of as a row vector.";
                case 2:
                    return "We can verify that \\((2/5, 3/5) P = (2/5, 3/5)\\).";
                case 3:
                    return "The text states that a Markov chain on \\(S\\) is irreducible if for all \\(x, y \\in S\\) with \\(x \\neq y\\), we have \\(x \\to y\\) and \\(y \\to x\\). It also mentions that a Markov chain is irreducible if and only if its transition graph is strongly connected.";
                case 4:
                    return "The transition graph of the given Markov chain is strongly connected, as there is a directed path between any two states. Therefore, by the graphical characterization mentioned in the text, this Markov chain is irreducible.";
                case 5:
                    return "The Markov chain is not irreducible because there is no way to get back to state 1 from state 3.";
                case 6:
                    return "The Existence of Stationary Distribution Theorem in the text states that if \\(P\\) is an irreducible transition matrix on \\([n]\\), then there exists a unique stationary distribution \\(\\pi\\). Further, all entries of \\(\\pi\\) are strictly positive.";
                case 7:
                    return "The text states that for an irreducible Markov chain, the left and right eigenvalues are the same, but the left and right eigenvectors are not necessarily the same. It also mentions that the geometric multiplicity of eigenvalue 1 is 1, implying that the left and right eigenvectors corresponding to eigenvalue 1 are unique up to scaling, but they are not necessarily related to each other.";
                case 8:
                    return "The text states that for any stochastic matrix \\(P\\), all left and right eigenvalues are smaller or equal than 1 in absolute value. In the irreducible case, eigenvalue 1 is achieved and has geometric multiplicity 1. The text also proves that there is no eigenvector with eigenvalue -1 in the irreducible case.";
                case 9:
                    return "The text provides numerical methods, including solving \\(\\pi (P - I) = 0\\) and finding the eigenvector with eigenvalue 1.";
                default:
                    return "";
            }
        }
    </script>

</body>

</html>
